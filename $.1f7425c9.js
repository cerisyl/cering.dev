let t,e,n;function i(t){return t&&t.__esModule?t.default:t}const r=(t,e,...n)=>{t?n.forEach(t=>t[0].classList.add(t[1])):e&&n.forEach(t=>t[0].classList.remove(t[1]))},o=async t=>{window.hasOwnProperty("ontouchstart")?window.addEventListener("touchstart",t):window.addEventListener("click",t)},s=async t=>(await fetch(t)).text(),a=async(t,e)=>{fetch(t).then(t=>t.json()).then(t=>e(t)).catch(t=>console.log(t))},c={beginner:"SN",easy:"SE",medium:"SM",hard:"SH",challenge:"SX",edit:"ED"},l={beginner:"n",easy:"e",medium:"m",hard:"h",challenge:"x",edit:"edit"},d=(t,e)=>{let[n,i]=t.displaybpm,r=e.breakdown?e.breakdown:"",o=Math.round(i),s=o;if(r.includes("@")){let[t,e]=r.split("@");o=e,s=e}else n!==i&&(s=`${Math.round(n)} - ${o}`);return{value:s,tier:Math.min(10*Math.floor(o/10),180)}},u=t=>t?t.replaceAll(/([\|\/\-'])/g," $1 "):"No stream",m=async(t,e,n,i)=>{let r=[],a=Object.fromEntries(t.map(t=>[t.sid,"challenge"])),m="";for(let n of t){let t=n.sid,m=`./img/itg/streams/bn/${t}.jpg`,f=await s(`./img/itg/streams/graph/${t}-x.svg`),p=n.titletranslit?n.titletranslit:n.title,h=n.artisttranslit?n.artisttranslit:n.artist,[v]=n.difficulties.filter(t=>"Challenge"===t.slot),g=d(n,v),y=u(v.breakdown),E="";for(let m of n.difficulties){let f=m.slot.toLowerCase(),h="challenge"===f?" itg-diff-challenge-fill":"";E+=`<div id="${t}-${f}" class="itg-diff-${f}${h}"><span>${m.difficulty}</span></div>`,!0===e&&o(async e=>{let n=document.getElementById(`${t}-${a[t]}`),i=document.getElementById(`${t}-${f}`),r=document.getElementById(`${t}-chart`),o=document.getElementById(`${t}-breakdown`);i.contains(e.target)&&(n.classList.remove(`itg-diff-${a[t]}-fill`),i.classList.add(`itg-diff-${f}-fill`),a[t]=f,r.innerHTML=await s(`./img/itg/streams/graph/${t}-${l[f]}.svg`),o.innerHTML=u(m.breakdown))});let v=i?"beginner"!==f:"challenge"===f,g=d(n,m);if(!1===e&&v){let t=`
        <div class="songlist-entry">
          <div class="songlist-entry-diff">
            <div class="itg-diff-${f}-alt"><span>${c[f]} ${m.difficulty}</span></div>
          </div>
          <div class="songlist-entry-bpm">
            <p class="itg-bpm-${g.tier}">${g.value} <b>BPM</b></p>
          </div>
          <div class="songlist-entry-title">
            <p>${p} <i class="comment-small">${n.subtitle}</i></p>
          </div>
          <div class="songlist-entry-breakdown">
            <p>${u(m.breakdown)}</p>
          </div>
        </div>`;r.push({diff:Number(m.difficulty),bpm:Number(g.value),title:p,ifMix:p.includes("[Mix]"),html:t})}}if(!0===e){let e=`
      <div class="chart">
        <div class="chart-meta">
          <img class="chart-bn" src="${m}" alt="${h} - ${p}" title="${h} - ${p}"/>
          <div class="chart-inner">
            <p class="itg-bpm-${g.tier}">${g.value} <b>BPM</b></p>
            <div class="chart-diffs">${E}</div>
          </div>
        </div>
        <div class="chart-stats">
          <div id="${t}-chart" class="chart-graph">${f}</div>
          <div class="chart-desc">
            <p id="${t}-breakdown">${y}</p>
          </div>
        </div>
      </div>`;r.push({diff:Number(v.difficulty),bpm:Number(g.value),title:p,ifMix:p.includes("[Mix]"),html:e})}}"bpm"===n?r=r.sort((t,e)=>t.diff-e.diff).sort((t,e)=>t.bpm-e.bpm).sort((t,e)=>t.ifMix-e.ifMix):"sx"===n?r=r.sort((t,e)=>t.bpm-e.bpm).sort((t,e)=>t.diff-e.diff):"alpha"===n&&(r=r.sort((t,e)=>t.title.localeCompare(e.title,"en",{sensitivity:"base"})).sort((t,e)=>t.ifMix-e.ifMix)),r.forEach(t=>{m+=t.html});let f=document.getElementById("charts");f&&(f.innerHTML=m)},f=async t=>{let e={list:document.getElementById("toggle-list"),diffs:document.getElementById("toggle-diffs")},n={bpm:document.getElementById("sort-bpm"),sx:document.getElementById("sort-sx"),alpha:document.getElementById("sort-alpha")},i=document.getElementById("charts"),r=!0,s="bpm",a=!1,c=t=>{s!==t&&n[s].classList.add("action-hollow"),s=t,n[t].classList.remove("action-hollow")};await m(t,r,s,a),e.diffs.disabled=!0,o(async o=>{e.list.contains(o.target)?(r=!r,await m(t,r,s,a),e.diffs.disabled=r,!0!==r?(e.diffs.classList.remove("action-disabled"),i.classList.add("nogaps")):(e.diffs.classList.add("action-disabled"),i.classList.remove("nogaps"))):e.diffs.contains(o.target)&&!e.diffs.disabled?(a=!a,await m(t,r,s,a)):n.bpm.contains(o.target)?(c("bpm"),await m(t,r,s,a)):n.sx.contains(o.target)?(c("sx"),await m(t,r,s,a)):n.alpha.contains(o.target)&&(c("alpha"),await m(t,r,s,a))})},p={transition:"transitionstart",OTransition:"oTransitionStart",MozTransition:"transitionstart"},h={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},v=document.body.style;for(let n in p)void 0!=v[n]&&(t=p[n],e=h[n]);var g={};g=import.meta.resolve("2JQ4l");var y={};y=import.meta.resolve("eApQZ");var E={};E=import.meta.resolve("ePrwE");var w={};w=import.meta.resolve("hFvyU");var b={};b=import.meta.resolve("t8UAt");var L={};L=function(){function t(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(window.Promise)return p(t,e,n);t.recalculate(!0,!0)}function e(t){var e=t.useContainerForBreakpoints?t.container.clientWidth:window.innerWidth,n={columns:t.columns};w(t.margin)?n.margin={x:t.margin.x,y:t.margin.y}:n.margin={x:t.margin,y:t.margin};var i=Object.keys(t.breakAt);return t.mobileFirst?function(t){for(var e=t.options,n=t.responsiveOptions,i=t.keys,r=t.docWidth,o=void 0,s=0;s<i.length;s++){var a=parseInt(i[s],10);r>=a&&b(e.breakAt[a],n)}return n}({options:t,responsiveOptions:n,keys:i,docWidth:e}):function(t){for(var e=t.options,n=t.responsiveOptions,i=t.keys,r=t.docWidth,o=void 0,s=i.length-1;s>=0;s--){var a=parseInt(i[s],10);r<=a&&b(e.breakAt[a],n)}return n}({options:t,responsiveOptions:n,keys:i,docWidth:e})}function n(t){return e(t).columns}function i(t){return e(t).margin}function r(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=n(t),o=i(t).x,s=100/r;if(!e)return s;if(1===r)return"100%";var a="px";if("string"==typeof o){var c=parseFloat(o);a=o.replace(c,""),o=c}return o=(r-1)*o/r,"%"===a?s-o+"%":"calc("+s+"% - "+o+a+")"}function o(t){var e=0,n=t.container;a(t.rows,function(t){e=t>e?t:e}),n.style.height=e+"px"}var s=function t(e,n){if(!(this instanceof t))return new t(e,n);if(e&&e.nodeName)return e;if(e=e.replace(/^\s*/,"").replace(/\s*$/,""),n)return this.byCss(e,n);for(var i in this.selectors)if(new RegExp((n=i.split("/"))[1],n[2]).test(e))return this.selectors[i](e);return this.byCss(e)};s.prototype.byCss=function(t,e){return(e||document).querySelectorAll(t)},s.prototype.selectors={},s.prototype.selectors[/^\.[\w\-]+$/]=function(t){return document.getElementsByClassName(t.substring(1))},s.prototype.selectors[/^\w+$/]=function(t){return document.getElementsByTagName(t)},s.prototype.selectors[/^\#[\w\-]+$/]=function(t){return document.getElementById(t.substring(1))};var a=function(t,e){for(var n=t.length,i=n;n--;)e(t[i-n-1])},c=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.running=!1,this.events=[],this.add(t)};c.prototype.run=function(){if(!this.running&&this.events.length>0){var t=this.events.shift();this.running=!0,t(),this.running=!1,this.run()}},c.prototype.add=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return!!e&&(Array.isArray(e)?a(e,function(e){return t.add(e)}):(this.events.push(e),void this.run()))},c.prototype.clear=function(){this.events=[]};var l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance=t,this.data=e,this},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.events={},this.instance=t};d.prototype.on=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!t||!e)&&(Array.isArray(this.events[t])||(this.events[t]=[]),this.events[t].push(e))},d.prototype.emit=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||!Array.isArray(this.events[t]))return!1;var n=new l(this.instance,e);a(this.events[t],function(t){return t(n)})};var u=function(t){return!("naturalHeight"in t&&t.naturalHeight+t.naturalWidth===0)||t.width+t.height!==0},m=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(t,n){if(e.complete)return u(e)?t(e):n(e);e.addEventListener("load",function(){return u(e)?t(e):n(e)}),e.addEventListener("error",function(){return n(e)})}).then(function(e){n&&t.emit(t.constants.EVENT_IMAGE_LOAD,{img:e})}).catch(function(e){return t.emit(t.constants.EVENT_IMAGE_ERROR,{img:e})})},f=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(t,e){for(var n=t.length,i=n,r=[];n--;)r.push(e(t[i-n-1]));return r}(e,function(e){return m(t,e,n)})},p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Promise.all(f(t,e,n)).then(function(){t.emit(t.constants.EVENT_IMAGE_COMPLETE)})},h=function(t){var e,n;return e=function(){t.emit(t.constants.EVENT_RESIZE),t.queue.add(function(){return t.recalculate(!0,!0)})},n=void 0,function(){n&&clearTimeout(n),n=setTimeout(e,100)}},v=function(t){if(t.container=s(t.options.container),t.container instanceof s||!t.container)return!!t.options.debug&&console.error("Error: Container not found");t.container.length&&(t.container=t.container[0]),t.options.container=t.container,t.container.style.position="relative"},g=function(t){t.queue=new c,t.events=new d(t),t.rows=[],t.resizer=h(t)},y=function(e){var n=s("img",e.container);window.addEventListener("resize",e.resizer),e.on(e.constants.EVENT_IMAGE_LOAD,function(){return e.recalculate(!1,!1)}),e.on(e.constants.EVENT_IMAGE_COMPLETE,function(){return e.recalculate(!0,!0)}),e.options.useOwnImageLoader||t(e,n,!e.options.waitForImages),e.emit(e.constants.EVENT_INITIALIZED)},E=function(t){v(t),g(t),y(t)},w=function(t){return t===Object(t)&&"[object Array]"!==Object.prototype.toString.call(t)},b=function(t,e){w(t)||(e.columns=t),w(t)&&t.columns&&(e.columns=t.columns),w(t)&&t.margin&&!w(t.margin)&&(e.margin={x:t.margin,y:t.margin}),w(t)&&t.margin&&w(t.margin)&&t.margin.x&&(e.margin.x=t.margin.x),w(t)&&t.margin&&w(t.margin)&&t.margin.y&&(e.margin.y=t.margin.y)},L=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t.lastcol||(t.lastcol=0),t.rows.length<1&&(o=!0),o){t.rows=[],t.cols=[],t.lastcol=0;for(var s=e-1;s>=0;s--)t.rows[s]=0,t.cols[s]=function(t,e){var o=n(t.options),s=0,a=void 0,c=void 0;if(1==++e)return 0;c=i(t.options).x;var l="px";if("string"==typeof c){var d=parseFloat(c,10);l=c.replace(d,""),c=d}return a=(c-(o-1)*c/o)*(e-1),s+=r(t.options,!1)*(e-1),"%"===l?s+a+"%":"calc("+s+"% + "+a+l+")"}(t,s)}else if(t.tmpRows){t.rows=[];for(var s=e-1;s>=0;s--)t.rows[s]=t.tmpRows[s]}else{t.tmpRows=[];for(var s=e-1;s>=0;s--)t.tmpRows[s]=t.rows[s]}},I=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=e?t.container.children:s(':scope > *:not([data-macy-complete="1"])',t.container);l=Array.from(l).filter(function(t){return null!==t.offsetParent});var d=r(t.options);return a(l,function(t){e&&(t.dataset.macyComplete=0),t.style.width=d}),t.options.trueOrder?function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=n(t.options),l=i(t.options).y;L(t,c,r),a(e,function(e){t.lastcol===c&&(t.lastcol=0);var n,i,r=(n=e,i="height",window.getComputedStyle(n,null).getPropertyValue(i));isNaN(r=parseInt(e.offsetHeight,10))||(e.style.position="absolute",e.style.top=t.rows[t.lastcol]+"px",e.style.left=""+t.cols[t.lastcol],t.rows[t.lastcol]+=isNaN(r)?0:r+l,t.lastcol+=1,s&&(e.dataset.macyComplete=1))}),s&&(t.tmpRows=null),o(t)}(t,l,e,c):function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],c=n(t.options),l=i(t.options).y;L(t,c,r),a(e,function(e){var n=0,i=parseInt(e.offsetHeight,10);isNaN(i)||(t.rows.forEach(function(e,i){e<t.rows[n]&&(n=i)}),e.style.position="absolute",e.style.top=t.rows[n]+"px",e.style.left=""+t.cols[n],t.rows[n]+=isNaN(i)?0:i+l,s&&(e.dataset.macyComplete=1))}),s&&(t.tmpRows=null),o(t)}(t,l,e,c),t.emit(t.constants.EVENT_RECALCULATED)},T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};Array.from||(Array.from=function(t){for(var e=0,n=[];e<t.length;)n.push(t[e++]);return n});var M={columns:4,margin:2,trueOrder:!1,waitForImages:!1,useImageLoader:!0,breakAt:{},useOwnImageLoader:!1,onInit:!1,cancelLegacy:!1,useContainerForBreakpoints:!1};try{document.createElement("a").querySelector(":scope *")}catch(t){function A(t){return function(e){if(e&&$.test(e)){var n=this.getAttribute("id");n||(this.id="q"+Math.floor(9e6*Math.random())+"1000000"),arguments[0]=e.replace($,"#"+this.id);var i=t.apply(this,arguments);return null===n?this.removeAttribute("id"):n||(this.id=n),i}return t.apply(this,arguments)}}var $=/:scope\b/gi,N=A(Element.prototype.querySelector);Element.prototype.querySelector=function(t){return N.apply(this,arguments)};var x=A(Element.prototype.querySelectorAll);Element.prototype.querySelectorAll=function(t){return x.apply(this,arguments)}}var _=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M;if(!(this instanceof t))return new t(e);this.options={},T(this.options,M,e),this.options.cancelLegacy&&!window.Promise||E(this)};return _.init=function(t){return console.warn("Depreciated: Macy.init will be removed in v3.0.0 opt to use Macy directly like so Macy({ /*options here*/ }) "),new _(t)},_.prototype.recalculateOnImageLoad=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t(this,s("img",this.container),!e)},_.prototype.runOnImageLoad=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=s("img",this.container);return this.on(this.constants.EVENT_IMAGE_COMPLETE,e),n&&this.on(this.constants.EVENT_IMAGE_LOAD,e),t(this,i,n)},_.prototype.recalculate=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n&&this.queue.clear(),this.queue.add(function(){return I(t,e,n)})},_.prototype.remove=function(){window.removeEventListener("resize",this.resizer),a(this.container.children,function(t){t.removeAttribute("data-macy-complete"),t.removeAttribute("style")}),this.container.removeAttribute("style")},_.prototype.reInit=function(){this.recalculate(!0,!0),this.emit(this.constants.EVENT_INITIALIZED),window.addEventListener("resize",this.resizer),this.container.style.position="relative"},_.prototype.on=function(t,e){this.events.on(t,e)},_.prototype.emit=function(t,e){this.events.emit(t,e)},_.constants={EVENT_INITIALIZED:"macy.initialized",EVENT_RECALCULATED:"macy.recalculated",EVENT_IMAGE_LOAD:"macy.image.load",EVENT_IMAGE_ERROR:"macy.image.error",EVENT_IMAGE_COMPLETE:"macy.images.complete",EVENT_RESIZE:"macy.resize"},_.prototype.constants=_.constants,_}();const I=window.location.href;try{n=(n=I.split("/")[3]).split(".")[0]}catch(t){n=""}o(t=>{if(document.documentElement.scrollTop<30){let e=document.getElementById("links"),n=document.getElementById("nav-toggle"),i=document.querySelector("header"),o=document.querySelector("body");r(n.contains(t.target)&&!n.classList.contains("enlarge"),!e.contains(t.target)&&n.classList.contains("enlarge"),[e,"nav-active"],[n,"enlarge"],[i,"header-outline"],[o,"freeze"])}}),window.addEventListener(e,()=>{let t=document.getElementById("links"),e=document.querySelector("body"),n=document.querySelector("main"),i=document.querySelector("footer");t.classList.contains("nav-active")?t.classList.add("no-zindex"):(e.classList.remove("lowered"),n.classList.remove("lowered"),i.classList.remove("lowered"))}),window.addEventListener(t,()=>{let t=document.getElementById("links"),e=document.querySelector("body"),n=document.querySelector("main"),i=document.querySelector("footer");t.classList.contains("nav-active")?(e.classList.add("lowered"),n.classList.add("lowered"),i.classList.add("lowered")):t.classList.remove("no-zindex")}),n.includes("resume")||n.includes("$")?["hashchange","load"].forEach(t=>{window.addEventListener(t,()=>{let t=window.location.hash.slice(1),e=document.getElementById("resume"),n=document.getElementById("resume-links");"dev"===t?(s(i(y)).then(t=>e.innerHTML=t),n.innerHTML=`
                <a class="action" href="./docs/SpencerGunning-Resume_20241218-dev.pdf">download as pdf</a>
                <a class="action" href="./webdev">view portfolio</a>
                <a class="action" href="./resume">view general resume</a>
                `):"graphics"===t?(s(i(w)).then(t=>e.innerHTML=t),n.innerHTML=`
                <a class="action" href="./docs/SpencerGunning-Resume_20241218-graphics.pdf">download as pdf</a>
                <a class="action" href="./graphics">view portfolio</a>
                <a class="action" href="./resume">view general resume</a>
                `):"it"===t?(s(i(E)).then(t=>e.innerHTML=t),n.innerHTML=`
                <a class="action" href="./docs/SpencerGunning-Resume_20241218-it.pdf">download as pdf</a>
                <a class="action" href="./resume">view general resume</a>
                `):(s(i(g)).then(t=>e.innerHTML=t),n.innerHTML=`
                <a class="action" href="./docs/SpencerGunning-Resume_20241218.pdf">download as pdf</a>
                `)})}):n.includes("graphics")?i(L)({container:"#gallery",columns:3,margin:8,breakAt:{500:2}}):n.includes("ceristreams")&&a(i(b),f);
//# sourceMappingURL=$.1f7425c9.js.map
